import{a as Jt}from"/build/_shared/chunk-WJ3JK63K.js";import{a as Vt}from"/build/_shared/chunk-F5XJZVHX.js";import{a as Ue}from"/build/_shared/chunk-OZKGRFFL.js";import{a as Gt}from"/build/_shared/chunk-PDUFQT3U.js";import"/build/_shared/chunk-SJ66X5JG.js";import{a as Vr}from"/build/_shared/chunk-6Y3TRW2U.js";import{a as $t,b as zr}from"/build/_shared/chunk-KLAONM72.js";import"/build/_shared/chunk-YG736PC4.js";import{a as _r}from"/build/_shared/chunk-VZQVWFLO.js";import{a as ke}from"/build/_shared/chunk-4GVLMWJ7.js";import{a as ve}from"/build/_shared/chunk-YDSERAUK.js";import{a as zt}from"/build/_shared/chunk-EROURRP4.js";import{a as we}from"/build/_shared/chunk-NK5IF5RF.js";import{a as Gr}from"/build/_shared/chunk-RTA5ZRRP.js";import{a as Xt}from"/build/_shared/chunk-6R6UXKZA.js";import{a as H}from"/build/_shared/chunk-NAU26CU7.js";import{a as Ut,b as Yt}from"/build/_shared/chunk-53PIVPIF.js";import{a as q}from"/build/_shared/chunk-NQPXYJUQ.js";import{a as A}from"/build/_shared/chunk-A7SUEVP2.js";import{b as he}from"/build/_shared/chunk-PXEUFDPR.js";import"/build/_shared/chunk-LTBXYQR6.js";import{e as At,f as Ht}from"/build/_shared/chunk-243AYOFM.js";import{b as C}from"/build/_shared/chunk-HAINM4MF.js";import{Ab as St,Ac as Dt,Bb as Et,Db as It,Dc as Bt,Ga as jt,Ha as Ur,Jc as Ot,Mc as _t,Oc as qt,Xc as $e,Zb as Rt,_b as Ct,a as j,bb as Ae,bc as Ft,c as _e,d as qe,gb as Yr,hb as oe,ib as Pt,uc as Tt,yc as Mt,zc as Lt}from"/build/_shared/chunk-QH5UXTNE.js";import{ka as Ar,pa as $r}from"/build/_shared/chunk-GO4RMXDG.js";import{u as Hr}from"/build/_shared/chunk-GZO74C6C.js";import{a as Nt}from"/build/_shared/chunk-5C6XY6QG.js";import{g as qr}from"/build/_shared/chunk-P4GU2T66.js";import{a as xe,p as He,q as Xr}from"/build/_shared/chunk-WKVXRFKR.js";import{b as fe,e as ut}from"/build/_shared/chunk-6UMQ6VR5.js";import{A as xt,F as yt,M as ht,Q as vt,_ as wt,ba as re,da as kt,ha as ye,r as ft,s as bt}from"/build/_shared/chunk-DRCRQ7AX.js";import{n as be}from"/build/_shared/chunk-NSB5NZWW.js";import"/build/_shared/chunk-FQ2RG5VJ.js";import"/build/_shared/chunk-C4K24J7E.js";import"/build/_shared/chunk-YG2XDHGZ.js";import{a as K}from"/build/_shared/chunk-KOHXVCYB.js";import{c as lt}from"/build/_shared/chunk-VGJ5EBYX.js";import"/build/_shared/chunk-MSGER76V.js";import{a as Or}from"/build/_shared/chunk-Z3FUFQEO.js";import{d as it,m as nt}from"/build/_shared/chunk-O7CS4SBR.js";import{$a as mt,Cb as ue,G as ie,J as dt,ab as J,bb as W,db as pt,lb as gt,mb as Oe,q as ct,xa as ne}from"/build/_shared/chunk-NSQYLWAQ.js";import{c as G}from"/build/_shared/chunk-4YJISJ47.js";import{b as Be}from"/build/_shared/chunk-VOM23DNI.js";import"/build/_shared/chunk-5YEMDBLX.js";import"/build/_shared/chunk-X4RYED65.js";import"/build/_shared/chunk-2SDAKG4K.js";import{a as se,b as $}from"/build/_shared/chunk-TANAHWHW.js";import{e as d}from"/build/_shared/chunk-ADMCF34Z.js";var go=d(_r());ut();Pt();Xr();ue();var h=d(se());_e();var B=d(xe()),Ee=d(Hr()),gr=d(Ar()),Ie=d($r()),Ge=d(Gr()),Je=d(Or()),We=d(qr()),ur=d(Be()),ce=d(qe()),Re=d(be()),de=d(Vr()),me=d(lt());ye();ue();$e();Ur();var Wt=d(se());ye();var Ye=d(be()),Kt=d(lt()),Qt=d(xe()),w=d($()),Jr=({onRemove:s,onSelect:g,items:i,labelExtractor:n,keyExtractor:p,label:N,hint:k,placholder:F="Select...",className:P,itemExtractor:m,searchPlaseholder:I="Search...",onSearch:f})=>{let[S,t]=(0,Wt.useState)(!1);return(0,w.jsxs)("div",{className:C("keypress-multiselect flex w-full flex-col items-center",P),children:[(0,w.jsx)("div",{className:"w-full",children:(0,w.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,w.jsx)("div",{className:"w-full cursor-pointer",onClick:()=>{t(!S)},children:(0,w.jsxs)("div",{className:"w-ful my-2 flex rounded border bg-white p-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100 dark:border-gray-800 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700",children:[(0,w.jsx)("div",{className:"flex flex-auto flex-wrap",children:(0,Qt.default)(N)?(0,w.jsx)("p",{className:"flex items-center justify-center px-2 text-gray-300 dark:text-gray-50",children:F}):(0,Ye.default)(N,u=>(0,w.jsxs)("div",{className:"m-1 flex items-center justify-center rounded-full border border-indigo-300 bg-indigo-100 px-2 py-1 font-medium text-indigo-700 dark:border-slate-500 dark:bg-slate-800 dark:text-gray-50",children:[(0,w.jsx)("div",{className:"flex max-w-full flex-initial break-words text-xs font-normal leading-none",children:n?n(u):u}),(0,w.jsx)("div",{className:"flex flex-auto flex-row-reverse",children:(0,w.jsx)("div",{onClick:b=>{b.preventDefault(),b.stopPropagation(),s(u)},children:(0,w.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x ml-2 h-4 w-4 cursor-pointer rounded-full hover:text-indigo-400",children:[(0,w.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,w.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]},p?p(u):u))}),(0,w.jsx)("div",{className:"flex w-8 items-center border-l border-gray-200 py-1 pl-2 pr-1 text-gray-300",children:(0,w.jsx)("button",{type:"button",onClick:()=>t(!S),className:"h-6 w-6 cursor-pointer text-gray-600 outline-none focus:outline-none dark:text-gray-300",children:(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 rotate-180",children:(0,w.jsx)("polyline",{points:"18 15 12 9 6 15"})})})})]})}),S&&(0,w.jsx)("div",{className:"top-100 lef-0 max-h-select z-40 max-h-[200px] w-full overflow-y-auto overflow-x-hidden rounded bg-white shadow dark:bg-slate-800",children:(0,w.jsxs)("div",{className:"flex w-full flex-col",children:[f&&(0,w.jsxs)("div",{className:"relative w-full cursor-pointer rounded-t border-b border-gray-100 hover:bg-indigo-100 dark:border-slate-700 dark:hover:bg-slate-700",children:[(0,w.jsx)("input",{className:"focus:box-shadow-none relative flex w-full items-center overflow-x-auto border-l-2 border-transparent bg-white p-2 pl-2 hover:border-b-indigo-100 focus:border-transparent focus:outline-none focus:ring-0 dark:bg-slate-800 dark:hover:border-b-slate-700",placeholder:I,onChange:u=>{u.preventDefault(),u.stopPropagation(),f(u.target.value||"")},type:"text"}),(0,w.jsx)(vt,{className:"absolute right-2 top-[0.7rem] h-5 w-5 text-gray-400 dark:text-gray-300","aria-hidden":"true"})]}),(0,Ye.default)(i,u=>(0,w.jsx)("div",{onClick:()=>g(u),className:"w-full cursor-pointer rounded-t border-b border-gray-100 hover:bg-indigo-100 dark:border-slate-500 dark:hover:bg-slate-700",children:(0,w.jsx)("div",{className:C("relative flex w-full items-center overflow-x-auto border-l-2 border-transparent p-2 pl-2 hover:border-indigo-100 dark:hover:border-slate-700",{"border-l-2 !border-indigo-500 dark:!border-slate-400":(0,Kt.default)(N,u)}),children:(0,w.jsx)("div",{className:"flex w-full items-center break-words",children:(0,w.jsx)("div",{className:"mx-2 flex leading-6",children:m?m(u):u})})})},p?`${p(u)}select`:`${u}select`))]})})]})}),k&&(0,w.jsx)("p",{className:"mt-2 whitespace-pre-line text-sm text-gray-500 dark:text-gray-300",children:k})]})},Zt=Jr;Yr();ut();Pt();var _=d(se());_e();ye();var Xe=d(Nt()),tr=d(Be()),je=d(xe()),rr=d(qe()),le=d(be());$e();ue();var er=d(se()),Wr=(s,g)=>((0,er.useEffect)(()=>{let i=n=>{!s.current||s.current.contains(n.target)||g(n)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}},[s,g]),[s,g]),Ne=Wr;var r=d($()),Kr=({t:s})=>(0,r.jsx)("div",{className:"flex flex-col py-6 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto w-full max-w-7xl text-gray-900 dark:text-gray-50",children:(0,r.jsx)("h2",{className:"mb-8 px-4 text-center text-xl leading-snug",children:s("project.settings.noPeople")})})}),Qr=({data:s,onRemove:g,t:i,share:n,setProjectShareData:p,pid:N,language:k,authedUserEmail:F,isSharedProject:P})=>{let[m,I]=(0,_.useState)(!1),[f,S]=(0,_.useState)(!1),t=(0,_.useRef)(null);Ne(t,()=>I(!1));let{id:u,created:b,confirmed:a,role:y,user:R}=s||{},l=async E=>{try{let T=await Ft(u,{role:E}),z=(0,le.default)(n,D=>D.id===T.id?{...T,user:D.user,role:E}:D);p({share:z},N,P),j.success(i("apiNotifications.roleUpdated"))}catch(T){console.error(`[ERROR] Error while updating user's role: ${T}`),j.error(i("apiNotifications.roleUpdateError"))}I(!1)};return(0,r.jsxs)("tr",{className:"dark:bg-slate-800",children:[(0,r.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-6",children:R.email}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 dark:text-white",children:k==="en"?(0,Xe.default)(b).locale(k).format("MMMM D, YYYY"):(0,Xe.default)(b).locale(k).format("D MMMM, YYYY")}),(0,r.jsx)("td",{className:"relative whitespace-nowrap py-4 pr-2 text-right text-sm font-medium",children:a?(0,r.jsxs)("div",{ref:t,children:[(0,r.jsxs)("button",{onClick:()=>I(!m),type:"button",disabled:R.email===F,className:"inline-flex items-center rounded-full border border-gray-200 bg-white py-0.5 pl-2 pr-1 text-sm font-medium leading-5 text-gray-700 shadow-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-80 dark:border-gray-600 dark:bg-slate-800 dark:text-gray-200 dark:hover:bg-gray-600",children:[i(`project.settings.roles.${y}.name`),(0,r.jsx)(Ht,{style:{transform:m?"rotate(180deg)":""},className:"ml-0.5 h-4 w-4 pt-px"})]}),m&&(0,r.jsxs)("ul",{className:"absolute right-0 z-10 mt-2 w-72 origin-top-right divide-y divide-gray-200 rounded-md bg-white text-left shadow-lg focus:outline-none dark:divide-gray-700 dark:bg-slate-900",children:[(0,le.default)(mt,E=>(0,r.jsxs)("li",{onClick:()=>l(E),className:"group flex cursor-pointer items-center justify-between p-4 hover:bg-indigo-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-gray-700 group-hover:text-gray-200 dark:text-gray-200",children:i(`project.settings.roles.${E}.name`)}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500 group-hover:text-gray-200",children:i(`project.settings.roles.${E}.shortDesc`)})]}),y===E&&(0,r.jsx)("span",{className:"text-indigo-600 group-hover:text-gray-200",children:(0,r.jsx)(At,{className:"ml-1 h-7 w-7 pt-px"})})]},E)),(0,r.jsx)("li",{onClick:()=>{I(!1),S(!0)},className:"group flex cursor-pointer items-center justify-between p-4 hover:bg-gray-200 dark:hover:bg-gray-700",children:(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"font-bold text-red-600 dark:text-red-500",children:i("project.settings.removeMember")})})})]})]}):(0,r.jsxs)("div",{className:"flex items-center justify-end",children:[(0,r.jsx)(he,{colour:"yellow",className:"mr-3",label:i("common.pending")}),(0,r.jsx)(A,{type:"button",className:"rounded-md bg-white text-base font-medium text-indigo-700 hover:bg-indigo-50 dark:border-gray-600 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700",small:!0,onClick:()=>S(!0),children:(0,r.jsx)(re,{className:"h-4 w-4"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)(H,{onClose:()=>{S(!1)},onSubmit:()=>{S(!1),g(u)},submitText:i("common.yes"),type:"confirmed",closeText:i("common.no"),title:i("project.settings.removeUser",{user:R.email}),message:i("project.settings.removeConfirm"),isOpened:f})})]})},Zr=({project:s,setProjectShareData:g,isPaidTierUsed:i,user:n,isSharedProject:p})=>{let[N,k]=(0,_.useState)(!1),[F,P]=(0,_.useState)(!1),{t:m,i18n:{language:I}}=G("common"),[f,S]=(0,_.useState)({email:"",role:""}),[t,u]=(0,_.useState)(!1),[b,a]=(0,_.useState)({}),[y,R]=(0,_.useState)(!1),{id:l,name:E,share:T}=s,z=()=>{let x={};we(f.email)||(x.email=m("auth.common.badEmailError")),(0,je.default)(f.role)&&(x.role=m("project.settings.errorNoRole"));let U=(0,je.default)((0,tr.default)(x));a(x),R(U)};(0,_.useEffect)(()=>{N&&z()},[f]);let D=({target:x})=>{let U=x.type==="checkbox"?x.checked:x.value;S(Y=>({...Y,[x.name]:U}))},ae=async()=>{k(!1),a({}),R(!1);try{let x=await Rt(l,{email:f.email,role:f.role});g({share:x.share},l),j.success(m("apiNotifications.userInvited"))}catch(x){console.error(`[ERROR] Error while inviting a user: ${x}`),j.error(typeof x=="string"?x:m("apiNotifications.userInviteError"))}setTimeout(()=>S({email:"",role:""}),300)},V=x=>{if(x.preventDefault(),x.stopPropagation(),!i){P(!0);return}u(!0),y?ae():z()},v=()=>{k(!1),setTimeout(()=>S({email:"",role:""}),300),a({})},O=async x=>{try{await Ct(l,x);let U=(0,le.default)((0,rr.default)(T,Y=>Y.id!==x),Y=>Y);g({share:U},l),j.success(m("apiNotifications.userRemoved"))}catch(U){console.error(`[ERROR] Error while deleting a user: ${U}`),j.error(m("apiNotifications.userRemoveError"))}};return(0,r.jsxs)("div",{className:"mb-6 mt-6",children:[(0,r.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mt-2 flex items-center text-lg font-bold text-gray-900 dark:text-gray-50",children:m("project.settings.people")}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m("project.settings.inviteCoworkers")})]}),(0,r.jsx)(A,{className:"h-8 pl-2",primary:!0,regular:!0,type:"button",onClick:()=>k(!0),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(kt,{className:"mr-1 h-5 w-5"}),m("project.settings.invite")]})})]}),(0,r.jsx)("div",{children:(0,je.default)(T)?(0,r.jsx)(Kr,{t:m}):(0,r.jsx)("div",{className:"mt-3 flex flex-col",children:(0,r.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 md:overflow-x-visible lg:-mx-8",children:(0,r.jsx)("div",{className:"inline-block min-w-full py-2 md:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-600",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"dark:bg-slate-800",children:[(0,r.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6",children:m("auth.common.email")}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:m("profileSettings.sharedTable.joinedOn")}),(0,r.jsx)("th",{scope:"col"}),(0,r.jsx)("th",{scope:"col"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-300 dark:divide-gray-600",children:(0,le.default)(T,x=>(0,r.jsx)(Qr,{data:x,onRemove:O,t:m,language:I,share:s.share,setProjectShareData:g,pid:l,authedUserEmail:n==null?void 0:n.email,isSharedProject:p},x.id))})]})})})})})}),(0,r.jsx)(Gt,{isOpened:F,onClose:()=>P(!1)}),(0,r.jsx)(H,{onClose:v,customButtons:(0,r.jsxs)("button",{type:"button",className:C("inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",{"!px-3 opacity-80":!i}),onClick:V,children:[!i&&(0,r.jsx)(xt,{className:"mr-1 h-5 w-5"}),m("common.invite")]}),closeText:m("common.cancel"),message:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-200",children:m("project.settings.inviteTo",{project:E})}),(0,r.jsx)("p",{className:"mt-2 text-base text-gray-700 dark:text-gray-200",children:m("project.settings.inviteDesc")}),(0,r.jsx)("p",{className:"mt-2 text-base text-gray-700 dark:text-gray-200",children:m("project.settings.inviteExpity",{amount:gt})}),(0,r.jsx)(q,{name:"email",type:"email",label:m("auth.common.email"),value:f.email,placeholder:"you@example.com",className:"mt-4",onChange:D,error:t&&b.email}),(0,r.jsxs)("fieldset",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"role",children:m("project.settings.role")}),(0,r.jsxs)("div",{className:C("mt-1 -space-y-px rounded-md bg-white dark:bg-slate-900",{"border border-red-300":b.role}),children:[(0,r.jsxs)("label",{className:C("relative flex cursor-pointer rounded-tl-md rounded-tr-md border border-gray-200 p-4 dark:border-slate-600",{"z-10 border-indigo-200 bg-indigo-50 dark:border-indigo-800/40 dark:bg-indigo-600/40":f.role===W.role,"border-gray-200":f.role!==W.role}),children:[(0,r.jsx)("input",{name:"role",className:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500",id:"role_admin",type:"radio",value:"admin",onChange:D}),(0,r.jsxs)("div",{className:"ml-3 flex flex-col",children:[(0,r.jsx)("span",{className:C("block text-sm font-medium",{"text-indigo-900 dark:text-white":f.role===W.role,"text-gray-700 dark:text-gray-200":f.role!==W.role}),children:m("project.settings.roles.admin.name")}),(0,r.jsx)("span",{className:C("block text-sm",{"text-indigo-700 dark:text-gray-100":f.role===W.role,"text-gray-700 dark:text-gray-200":f.role!==W.role}),children:m("project.settings.roles.admin.desc")})]})]}),(0,r.jsxs)("label",{className:C("relative flex cursor-pointer rounded-bl-md rounded-br-md border border-gray-200 p-4 dark:border-gray-500",{"z-10 border-indigo-200 bg-indigo-50 dark:border-indigo-800/40 dark:bg-indigo-600/40":f.role===J.role,"border-gray-200":f.role!==J.role}),children:[(0,r.jsx)("input",{name:"role",className:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500",id:"role_viewer",type:"radio",value:"viewer",onChange:D}),(0,r.jsxs)("div",{className:"ml-3 flex flex-col",children:[(0,r.jsx)("span",{className:C("block text-sm font-medium",{"text-indigo-900 dark:text-white":f.role===J.role,"text-gray-700 dark:text-gray-200":f.role!==J.role}),children:m("project.settings.roles.viewer.name")}),(0,r.jsx)("span",{className:C("block text-sm",{"text-indigo-700 dark:text-gray-100":f.role===J.role,"text-gray-700 dark:text-gray-200":f.role!==J.role}),children:m("project.settings.roles.viewer.desc")})]})]})]}),b.role&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",id:"email-error",children:b.role})]})]}),isOpened:N})]})},or=Zr;var eo=s=>({isPaidTierUsed:s.auth.isPaidTierUsed,user:s.auth.user}),to=s=>({setProjectShareData:(g,i,n=!1)=>{s(oe.setProjectsShareData({data:g,id:i,shared:n}))}}),ar=fe(eo,to)(or);var sr=ar;var L=d(se());_e();ye();var ze=d(Nt()),ir=d(Be()),Pe=d(xe()),nr=d(qe()),Se=d(be()),Ve=d(zr());$e();ue();var o=d($()),ro=({handleInput:s,beenSubmitted:g,errors:i,form:n})=>{let{t:p}=G("common");return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-200",children:p("project.settings.addARecipient")}),(0,o.jsx)("p",{className:"mt-2 text-base text-gray-700 dark:text-gray-200",children:p("project.settings.addARecipientDesc")}),(0,o.jsx)(q,{name:"email",type:"email",label:p("auth.common.email"),value:n.email,placeholder:"you@example.com",className:"mt-4",onChange:s,error:g&&i.email}),(0,o.jsxs)("fieldset",{className:"mt-4",children:[(0,o.jsx)("legend",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:p("project.emails.reportFrequency")}),(0,o.jsx)("div",{className:C("mt-1 -space-y-px rounded-md bg-white dark:bg-slate-900",{"border border-red-300":i.reportFrequency}),children:ie.map((N,k)=>(0,o.jsx)(oo,{item:N,index:k,form:n,handleInput:s,t:p,totalOptions:ie.length},N.value))}),i.reportFrequency&&(0,o.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",id:"reportFrequency-error",children:i.reportFrequency})]})]})},oo=({item:s,index:g,form:i,handleInput:n,t:p,totalOptions:N})=>(0,o.jsxs)("label",{className:C("relative flex cursor-pointer border border-gray-200 p-4 dark:border-slate-600",{"z-10 border-indigo-200 bg-indigo-50 dark:border-indigo-800/40 dark:bg-indigo-600/40":s.value===i.reportFrequency,"border-gray-200":i.reportFrequency!==s.value,"rounded-tl-md rounded-tr-md":g===0,"rounded-bl-md rounded-br-md":g===N-1}),children:[(0,o.jsx)("input",{name:"reportFrequency",className:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500",type:"radio",value:s.value,onChange:n,checked:i.reportFrequency===s.value}),(0,o.jsx)("span",{className:C("ml-3 block text-sm font-medium",{"text-indigo-900 dark:text-white":i.reportFrequency===s.value,"text-gray-700 dark:text-gray-200":i.reportFrequency!==s.value}),children:p(`profileSettings.${s.value}`)})]}),ao=({data:s,onRemove:g,setEmails:i,language:n})=>{let{t:p}=G("common"),[N,k]=(0,L.useState)(!1),[F,P]=(0,L.useState)(!1),m=(0,L.useRef)(null);Ne(m,()=>k(!1));let{id:I,addedAt:f,isConfirmed:S,projectId:t,email:u,reportFrequency:b}=s||{},a=async y=>{try{let R=await Lt(t,I,{reportFrequency:y.value});i(l=>(0,Se.default)(l,T=>T.id===R.id?R:T)),j.success(p("apiNotifications.updatedPeriodEmailReports"))}catch(R){console.error(`[ERROR] Error while updating user's role: ${R}`),j.error(p("apiNotifications.updatedPeriodEmailReportsError"))}k(!1)};return(0,o.jsxs)("tr",{className:"dark:bg-slate-800",children:[(0,o.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-6",children:u}),(0,o.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 dark:text-white",children:n==="en"?(0,ze.default)(f).locale(n).format("MMMM D, YYYY"):(0,ze.default)(f).locale(n).format("D MMMM, YYYY")}),(0,o.jsx)("td",{className:"relative whitespace-nowrap py-4 pr-2 text-right text-sm font-medium",children:S?(0,o.jsxs)("div",{ref:m,children:[(0,o.jsxs)("button",{onClick:()=>k(!N),type:"button",className:"inline-flex items-center rounded-full border border-gray-200 bg-white py-0.5 pl-2 pr-1 text-sm font-medium leading-5 text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-slate-800 dark:text-gray-200 dark:hover:bg-gray-600",children:[p(`profileSettings.${(0,Ve.default)(b)}`),(0,o.jsx)(bt,{style:{transform:N?"rotate(180deg)":""},className:"ml-0.5 h-4 w-4 pt-px"})]}),N&&(0,o.jsxs)("ul",{className:"absolute right-0 z-10 mt-2 w-72 origin-top-right divide-y divide-gray-200 rounded-md bg-white text-left shadow-lg focus:outline-none dark:divide-gray-700 dark:bg-slate-900",children:[(0,Se.default)(ie,y=>(0,o.jsxs)("li",{onClick:()=>a(y),className:"group flex cursor-pointer items-center justify-between p-4 hover:bg-indigo-600",children:[(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:"font-bold text-gray-700 group-hover:text-gray-200 dark:text-gray-200",children:p(`profileSettings.${(0,Ve.default)(y.label)}`)})}),b===y.value&&(0,o.jsx)("span",{className:"text-indigo-600 group-hover:text-gray-200",children:(0,o.jsx)(ft,{className:"ml-1 h-7 w-7 pt-px"})})]},y.value)),(0,o.jsx)("li",{onClick:()=>{k(!1),P(!0)},className:"group flex cursor-pointer items-center justify-between p-4 hover:bg-gray-200 dark:hover:bg-gray-700",children:(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:"font-bold text-red-600 dark:text-red-500",children:p("project.settings.removeMember")})})})]})]}):(0,o.jsxs)("div",{className:"flex items-center justify-end",children:[(0,o.jsx)(he,{colour:"yellow",className:"mr-3",label:p("common.pending")}),(0,o.jsx)(A,{type:"button",className:"rounded-md bg-white text-base font-medium text-indigo-700 hover:bg-indigo-50 dark:border-gray-600 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700",small:!0,onClick:()=>P(!0),children:(0,o.jsx)(re,{className:"h-4 w-4"})})]})}),(0,o.jsx)("td",{children:(0,o.jsx)(H,{onClose:()=>{P(!1)},onSubmit:()=>{P(!1),g(I)},submitText:p("common.yes"),type:"confirmed",closeText:p("common.no"),title:p("project.settings.removeUser",{user:u}),message:p("project.settings.removeReportConfirm"),isOpened:F})})]})},so=({t:s})=>(0,o.jsx)("div",{className:"flex flex-col py-6 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"mx-auto w-full max-w-7xl text-gray-900 dark:text-gray-50",children:(0,o.jsx)("h2",{className:"mb-8 px-4 text-center text-xl leading-snug",children:s("project.settings.noPeople")})})}),io=({projectId:s})=>{let[g,i]=(0,L.useState)(!1),{t:n,i18n:{language:p}}=G("common"),[N,k]=(0,L.useState)({email:"",reportFrequency:ie[3].value}),[F,P]=(0,L.useState)(!1),[m,I]=(0,L.useState)({}),[f,S]=(0,L.useState)(!1),[t,u]=(0,L.useState)([]),[b,a]=(0,L.useState)(!0),[y,R]=(0,L.useState)({page:1,limit:10,total:0}),l=async()=>{try{let{subscribers:v,count:O}=await Mt(s,y.page-1,y.limit);R(x=>({...x,count:O})),u(v)}catch(v){console.error(`[ERROR] Error while getting subscribers: ${v}`)}finally{a(!1)}};(0,L.useEffect)(()=>{l()},[]);let E=()=>{let v={};we(N.email)||(v.email=n("auth.common.badEmailError"));let O=(0,Pe.default)((0,ir.default)(v));I(v),S(O)};(0,L.useEffect)(()=>{g&&E()},[N]);let T=({target:v})=>{let O=v.type==="checkbox"?v.checked:v.value;k(x=>({...x,[v.name]:O}))},z=async()=>{i(!1),I({}),S(!1);try{let v=await Tt(s,{reportFrequency:N.reportFrequency,email:N.email});u([...t,v]),j.success(n("apiNotifications.userInvited"))}catch(v){console.error(`[ERROR] Error while inviting a user: ${v}`),j.error(n("apiNotifications.userInviteError"))}setTimeout(()=>k({email:"",reportFrequency:""}),300)},D=v=>{v.preventDefault(),v.stopPropagation(),P(!0),f?z():E()},ae=()=>{i(!1),setTimeout(()=>k({email:"",reportFrequency:""}),300),I({})},V=async v=>{try{await Dt(s,v);let O=(0,nr.default)(t,x=>x.id!==v);u(O),j.success(n("apiNotifications.emailDelete"))}catch(O){console.error(`[ERROR] Error while deleting a email: ${O}`),j.error(n("apiNotifications.emailDeleteError"))}};return(0,o.jsxs)("div",{className:"mb-6 mt-6",children:[(0,o.jsxs)("div",{className:"mb-3 flex flex-col items-start justify-between gap-y-2 sm:flex-row sm:items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"mt-2 text-lg font-bold text-gray-900 dark:text-gray-50",children:n("project.emails.title")}),(0,o.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("project.emails.description")})]}),(0,o.jsx)(A,{className:"h-8 whitespace-nowrap pl-2",primary:!0,regular:!0,type:"button",onClick:()=>i(!0),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ht,{className:"mr-1 h-5 w-5"}),n("project.emails.add")]})})]}),(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"mt-3 flex flex-col",children:(0,o.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 md:overflow-x-visible lg:-mx-8",children:(0,o.jsxs)("div",{className:"inline-block min-w-full py-2 md:px-6 lg:px-8",children:[!b&&!(0,Pe.default)(t)&&(0,o.jsx)("div",{className:"shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-600",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"dark:bg-slate-800",children:[(0,o.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6",children:n("auth.common.email")}),(0,o.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white",children:n("auth.common.addedOn")}),(0,o.jsx)("th",{scope:"col"}),(0,o.jsx)("th",{scope:"col"})]})}),(0,o.jsx)("tbody",{className:"divide-y divide-gray-300 dark:divide-gray-600",children:(0,Se.default)(t,v=>(0,o.jsx)(ao,{data:v,onRemove:V,language:p,setEmails:u},v.id))})]})}),(0,Pe.default)(t)&&(0,o.jsx)(so,{t:n}),b&&(0,o.jsx)(ke,{})]})})})}),(0,o.jsx)(H,{onClose:ae,customButtons:(0,o.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm",onClick:D,children:n("project.emails.add")}),closeText:n("common.cancel"),message:(0,o.jsx)(ro,{form:N,handleInput:T,errors:m,beenSubmitted:F}),isOpened:g})]})},lr=io;var cr=lr;var e=d($()),dr=50,mr=300,pr=300,Q=[{name:"all",title:"project.settings.reseted.all"},{name:"partially",title:"project.settings.reseted.partially"},{name:"viaFilters",title:"project.settings.reseted.viaFilters"}],no=({dateRange:s,setDateRange:g,setTab:i,t:n,tab:p,pid:N,activeFilter:k,setActiveFilter:F,filterType:P,setFilterType:m,language:I})=>{let[f,S]=(0,h.useState)([]),[t,u]=(0,h.useState)([]),b=async()=>{if(!(0,B.default)(P)){let a=await _t(N,P);S(a),u(a),(0,B.default)(k)||F([])}};return(0,h.useEffect)(()=>{b()},[P]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"mb-4 mt-1 text-sm italic text-gray-500 dark:text-gray-300",children:n("project.settings.resetHint")}),(0,e.jsx)("div",{className:"mt-6",children:(0,e.jsx)("nav",{className:"-mb-px flex space-x-6",children:(0,Re.default)(Q,a=>(0,e.jsx)("button",{type:"button",onClick:()=>i(a.name),className:C("text-md whitespace-nowrap border-b-2 px-1 pb-2 font-medium",{"border-indigo-500 text-indigo-600 dark:border-gray-50 dark:text-gray-50":a.name===p,"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:border-gray-300 dark:hover:text-gray-300":p!==a.name}),children:n(a.title)},a.name))})}),p===Q[1].name&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"mb-2 mt-4 text-sm text-gray-500 dark:text-gray-300",children:n("project.settings.reseted.partiallyDesc")}),(0,e.jsx)("p",{className:"mb-2 mt-1 text-sm italic text-gray-500 dark:text-gray-300",children:n("project.settings.reseted.partiallyHint")}),(0,e.jsx)("input",{type:"text",className:"m-0 h-0 w-0 border-0 p-0 focus:border-transparent focus:text-transparent focus:shadow-none focus:ring-transparent"}),(0,e.jsx)(Vt,{onChange:a=>g(a),options:{altInputClass:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:text-gray-50 dark:placeholder-gray-400 dark:border-gray-800 dark:bg-slate-800 rounded-md"},value:s})]}),p===Q[0].name&&(0,e.jsx)("p",{className:"mb-4 mt-4 text-sm italic text-gray-500 dark:text-gray-300",children:n("project.settings.reseted.allHint")}),p===Q[2].name&&(0,e.jsxs)("div",{className:"min-h-[410px]",children:[(0,e.jsx)("p",{className:"mb-4 mt-4 text-sm italic text-gray-500 dark:text-gray-300",children:n("project.settings.reseted.viaFiltersHint")}),(0,e.jsxs)("div",{children:[(0,e.jsx)($t,{className:"min-w-[160px]",title:(0,B.default)(P)?n("project.settings.reseted.selectFilters"):n(`project.mapping.${P}`),items:ct,labelExtractor:a=>n(`project.mapping.${a}`),keyExtractor:a=>a,onSelect:a=>m(a)}),(0,e.jsx)("div",{className:"h-2"}),P&&!(0,B.default)(f)?(0,e.jsx)(Zt,{className:"max-w-max",items:t,labelExtractor:a=>P==="cc"?(0,e.jsx)(Ue,{cc:a,language:I}):a,itemExtractor:a=>P==="cc"?(0,e.jsx)(Ue,{cc:a,language:I}):a,keyExtractor:a=>a,label:k,searchPlaseholder:n("project.search"),onSearch:a=>{if(a.length>0){if(P==="cc"){u((0,ce.default)(f,y=>(0,me.default)((0,de.default)(jt.getName(y,I)),(0,de.default)(a))));return}u((0,ce.default)(f,y=>(0,me.default)((0,de.default)(y),(0,de.default)(a))))}else u(f)},placholder:n("project.settings.reseted.filtersPlaceholder"),onSelect:a=>F(y=>(0,me.default)(y,a)?(0,ce.default)(y,R=>R!==a):[...y,a]),onRemove:a=>F(y=>(0,ce.default)(y,R=>R!==a))}):(0,e.jsx)("p",{className:"mb-4 mt-4 text-sm italic text-gray-500 dark:text-gray-300",children:n("project.settings.reseted.noFilters")})]})]})]})},lo="Untitled Project",co=({loadProjects:s,isLoading:g,isLoadingShared:i,projects:n,removeProject:p,user:N,isSharedProject:k,sharedProjects:F,deleteProjectCache:P,setProjectProtectedPassword:m,dashboardPaginationPage:I,dashboardPaginationPageShared:f,authLoading:S})=>{var st;let{t,i18n:{language:u}}=G("common"),{id:b}=zt(),a=(0,h.useMemo)(()=>(0,Ie.default)([...n,...(0,Re.default)(F,c=>c.project)],c=>c.id===b)||{},[n,b,F]),y=it(),{requestOrigin:R}=nt(),[l,E]=(0,h.useState)({name:"",id:b,public:!1,isPasswordProtected:!1,origins:null,ipBlacklist:null,botsProtectionLevel:"basic"}),[T,z]=(0,h.useState)(!1),[D,ae]=(0,h.useState)({}),[V,v]=(0,h.useState)(!1),[O,x]=(0,h.useState)(!1),[U,Y]=(0,h.useState)(!1),[Z,Ke]=(0,h.useState)(!1),[Qe,pe]=(0,h.useState)(!1),[Ze,et]=(0,h.useState)(!1),[vr,Ce]=(0,h.useState)(!1),[tt,rt]=(0,h.useState)(""),[ge,wr]=(0,h.useState)([]),[Fe,kr]=(0,h.useState)(Q[0].name),[Nr,Te]=(0,h.useState)(!1),[Me,jr]=(0,h.useState)(!1),[Le,Pr]=(0,h.useState)([]),[ot,Sr]=(0,h.useState)(""),Er=k?f*Oe:I*Oe,De=(0,h.useMemo)(()=>[{name:"off",title:t("project.settings.botsProtectionLevel.levels.off")},{name:"basic",title:t("project.settings.botsProtectionLevel.levels.basic")}],[t]),Ir=(0,h.useMemo)(()=>`${R||Jt?window.location.origin:"https://swetrix.com"}/projects/${b}`,[R,b]);(0,h.useEffect)(()=>{S||Me||(!N.isActive&&!ne&&(j.error(t("project.settings.verify")),y(K.dashboard)),!g&&!i&&!Z&&((0,B.default)(a)||a!=null&&a.uiHidden?(j.error(t("project.noExist")),y(K.dashboard)):(E({...a,ipBlacklist:(0,Je.default)(a.ipBlacklist)?a.ipBlacklist:(0,Ge.default)(a.ipBlacklist,", "),origins:(0,Je.default)(a.origins)?a.origins:(0,Ge.default)(a.origins,", ")}),jr(!0))))},[N,a,Me,g,y,Z,t,S,i]);let at=async c=>{if(!Ze){et(!0);try{let M={...c,origins:(0,B.default)(c.origins)?null:(0,Re.default)((0,We.default)(c.origins,","),X=>{try{return(0,me.default)(X,"localhost")?X:new URL(X).host}catch{return X}}),ipBlacklist:(0,B.default)(c.ipBlacklist)?null:(0,We.default)(c.ipBlacklist,",")};await St(b,M),j.success(t("project.settings.updated")),s(k,Er)}catch(M){j.error(M)}finally{et(!1)}}},Rr=async()=>{if(x(!1),!Z){Ke(!0);try{await Et(b),p(b,k),j.success(t("project.settings.deleted")),y(K.dashboard)}catch(c){j.error(c)}finally{Ke(!1)}}},Cr=async()=>{if(Y(!1),!Qe){pe(!0);try{if(Fe===Q[1].name){if((0,B.default)(ge)){j.error(t("project.settings.noDateRange")),pe(!1);return}await Ot(b,{from:Ae(ge[0]),to:Ae(ge[1])})}else if(Fe===Q[2].name){if((0,B.default)(Le)){j.error(t("project.settings.noFilters")),pe(!1);return}await qt(b,ot,Le)}else await It(b);P(b),j.success(t("project.settings.resetted")),y(K.dashboard)}catch(c){j.error(c)}finally{pe(!1)}}},Fr=()=>{let c={};(0,B.default)(l.name)&&(c.name=t("project.settings.noNameError")),(0,Ee.default)(l.name)>dr&&(c.name=t("project.settings.pxCharsError",{amount:dr})),(0,Ee.default)(l.origins)>mr&&(c.origins=t("project.settings.oxCharsError",{amount:mr})),(0,Ee.default)(l.ipBlacklist)>pr&&(c.ipBlacklist=t("project.settings.oxCharsError",{amount:pr}));let M=(0,B.default)((0,ur.default)(c));ae(c),z(M)};(0,h.useEffect)(()=>{Fr()},[l]);let ee=c=>{let{target:M}=c,X=M.type==="checkbox"?M.checked:M.value;E(te=>({...te,[M.name]:X}))},Tr=c=>{c.preventDefault(),c.stopPropagation(),v(!0),T&&at(l)},Mr=()=>{y((0,gr.default)(K.project,":id",b))},Lr=async()=>{await Bt(b,tt).then(()=>{j.success(t("apiNotifications.transferRequestSent")),y(K.dashboard)}).catch(c=>{j.error(c)}).finally(()=>{Ce(!1),rt("")})},Dr=async()=>{v(!0),T&&(await at({...l,isPasswordProtected:!0}),!(0,B.default)(l.password)&&!(0,B.default)(l.id)&&m((l==null?void 0:l.id)||"",(l==null?void 0:l.password)||""),E(c=>({...c,isPasswordProtected:!0})),Te(!1))},Br=`${t("project.settings.settings")} ${l.name}`;return(0,h.useEffect)(()=>{document.title=`${t("project.settings.settings")} ${l.name} ${dt}`},[l,t]),S||!Me?(0,e.jsx)("div",{className:"flex min-h-min-footer flex-col bg-gray-50 px-4 py-6 dark:bg-slate-900 sm:px-6 lg:px-8",children:(0,e.jsx)(ke,{})}):(0,e.jsxs)("div",{className:"flex min-h-min-footer flex-col bg-gray-50 px-4 py-6 pb-40 dark:bg-slate-900 sm:px-6 lg:px-8",children:[(0,e.jsxs)("form",{className:"mx-auto w-full max-w-7xl",onSubmit:Tr,children:[(0,e.jsx)("h2",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:Br}),(0,e.jsx)("h3",{className:"mt-4 text-lg font-bold text-gray-900 dark:text-gray-50",children:t("profileSettings.general")}),(0,e.jsx)(q,{name:"name",label:t("project.settings.name"),value:l.name,placeholder:"My awesome project",className:"mt-2",onChange:ee,error:V?D.name:null}),(0,e.jsx)(q,{name:"id",label:t("project.settings.pid"),value:l.id,className:"mt-4",onChange:ee,error:null,disabled:!0}),(0,e.jsx)(q,{name:"sharableLink",label:t("project.settings.sharableLink"),hint:t("project.settings.sharableDesc"),value:Ir,className:"mt-4",onChange:ee,error:null,disabled:!0}),(0,e.jsx)("h3",{className:"mt-6 text-lg font-bold text-gray-900 dark:text-gray-50",children:t("project.settings.shields")}),(0,e.jsx)(q,{name:"origins",label:t("project.settings.origins"),hint:t("project.settings.originsHint"),value:l.origins||"",className:"mt-2",onChange:ee,error:V?D.origins:null}),(0,e.jsx)(q,{name:"ipBlacklist",label:t("project.settings.ipBlacklist"),hint:t("project.settings.ipBlacklistHint"),value:l.ipBlacklist||"",className:"mt-4",onChange:ee,error:V?D.ipBlacklist:null}),(0,e.jsx)("div",{className:"mt-4",children:(0,e.jsx)(Xt,{id:"botsProtectionLevel",label:t("project.settings.botsProtectionLevel.title"),items:De,title:((st=(0,Ie.default)(De,c=>c.name===l.botsProtectionLevel))==null?void 0:st.title)||"",labelExtractor:c=>c.title,onSelect:c=>{var X;let M=((X=(0,Ie.default)(De,te=>te.title===c))==null?void 0:X.name)||"basic";E(te=>({...te,botsProtectionLevel:M}))},capitalise:!0})}),(0,e.jsx)("h3",{className:"mt-6 text-lg font-bold text-gray-900 dark:text-gray-50",children:t("project.settings.access")}),(0,e.jsx)(ve,{checked:Boolean(l.active),onChange:c=>E(M=>({...M,active:c})),name:"active",className:"mt-2",label:t("project.settings.enabled"),hint:t("project.settings.enabledHint")}),(0,e.jsx)(ve,{checked:Boolean(l.public),onChange:c=>{l.isPasswordProtected||E(M=>({...M,public:c}))},name:"public",className:"mt-4",label:t("project.settings.public"),hint:t("project.settings.publicHint")}),(0,e.jsx)(ve,{checked:Boolean(l.isPasswordProtected),onChange:()=>{if(!l.public&&l.isPasswordProtected){E({...l,isPasswordProtected:!1});return}l.public||Te(!0)},name:"isPasswordProtected",className:"mt-4",label:t("project.settings.protected"),hint:t("project.settings.protectedHint")}),(0,e.jsxs)("div",{className:"mt-8 flex flex-wrap justify-center gap-2 sm:justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,e.jsx)(A,{className:"border-indigo-100 dark:border-slate-700/50 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700",onClick:Mr,secondary:!0,regular:!0,children:t("common.cancel")}),(0,e.jsx)(A,{type:"submit",loading:Ze,primary:!0,regular:!0,children:t("common.save")})]}),!(a!=null&&a.shared)&&(0,e.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[!ne&&(0,e.jsx)(A,{onClick:()=>Ce(!0),semiDanger:!0,semiSmall:!0,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(wt,{className:"mr-1 h-5 w-5"}),t("project.settings.transfer")]})}),(0,e.jsx)(A,{onClick:()=>!Qe&&Y(!0),loading:Z,semiDanger:!0,semiSmall:!0,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(re,{className:"mr-1 h-5 w-5"}),t("project.settings.reset")]})}),(0,e.jsx)(A,{onClick:()=>!Z&&x(!0),loading:Z,danger:!0,semiSmall:!0,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(yt,{className:"mr-1 h-5 w-5"}),t("project.settings.delete")]})})]})]}),!ne&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("hr",{className:"mt-8 border-gray-200 dark:border-gray-600 xs:mt-2 sm:mt-5"}),(0,e.jsx)(cr,{projectId:b})]}),!ne&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("hr",{className:"mt-2 border-gray-200 dark:border-gray-600 sm:mt-5"}),(0,e.jsx)(sr,{project:a,isSharedProject:k})]})]}),(0,e.jsx)(H,{onClose:()=>x(!1),onSubmit:Rr,submitText:t("project.settings.delete"),closeText:t("common.close"),title:t("project.settings.qDelete"),message:t("project.settings.deleteHint"),submitType:"danger",type:"error",isOpened:O}),(0,e.jsx)(H,{onClose:()=>Y(!1),onSubmit:Cr,size:"large",submitText:t("project.settings.reset"),closeText:t("common.close"),title:t("project.settings.qReset"),message:(0,e.jsx)(no,{setDateRange:wr,dateRange:ge,setTab:kr,tab:Fe,t,pid:b,activeFilter:Le,setActiveFilter:Pr,filterType:ot,setFilterType:Sr,language:u}),submitType:"danger",type:"error",isOpened:U}),(0,e.jsx)(H,{onClose:()=>{Te(!1),E(c=>({...c,password:void 0}))},onSubmit:Dr,submitText:t("common.save"),closeText:t("common.cancel"),title:t("project.settings.protected"),message:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mb-4 mt-1 text-sm text-gray-500 dark:text-gray-300",children:t("project.settings.protectedHint")}),(0,e.jsx)(q,{name:"password",type:"password",label:t("project.settings.password"),value:(l==null?void 0:l.password)||"",className:"mt-4 px-4 sm:px-0",onChange:ee,error:V?D.password:null})]}),isOpened:Nr}),(0,e.jsx)(H,{onClose:()=>{Ce(!1)},submitText:t("project.settings.transfer"),closeText:t("common.cancel"),message:(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-200",children:t("project.settings.transferTo")}),(0,e.jsx)("p",{className:"mt-2 text-base text-gray-700 dark:text-gray-200",children:t("project.settings.transferHint",{name:l.name||lo})}),(0,e.jsx)(q,{name:"email",type:"email",label:t("project.settings.transfereeEmail"),value:tt,placeholder:"you@example.com",className:"mt-4",onChange:c=>rt(c.target.value)})]}),isOpened:vr,onSubmit:Lr})]})},fr=(0,h.memo)(Yt(co,Ut.authenticated));var mo=s=>({projects:s.ui.projects.projects,sharedProjects:s.ui.projects.sharedProjects,isLoading:s.ui.projects.isLoading,isLoadingShared:s.ui.projects.isLoadingShared,authLoading:s.auth.loading,dashboardPaginationPage:s.ui.projects.dashboardPaginationPage,dashboardPaginationPageShared:s.ui.projects.dashboardPaginationPageShared,user:s.auth.user,isSharedProject:s.ui.projects.dashboardTabs===pt}),po=s=>({loadProjects:(g,i)=>{s(g?He.loadSharedProjects(i):He.loadProjects(i))},removeProject:(g,i)=>{s(oe.removeProject({pid:g,shared:i}))},deleteProjectCache:g=>{s(oe.deleteProjectCache({pid:g}))},setProjectProtectedPassword(g,i){s(oe.setProjectProtectedPassword({id:g,password:i}))}}),br=fe(mo,po)(fr);var xr=br;var hr=d($());function yr(){return(0,hr.jsx)(xr,{})}export{yr as default};
