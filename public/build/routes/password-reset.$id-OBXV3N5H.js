import{a as G}from"/build/_shared/chunk-VZQVWFLO.js";import{b as F}from"/build/_shared/chunk-NK5IF5RF.js";import{a as N,b as k}from"/build/_shared/chunk-53PIVPIF.js";import{a as d}from"/build/_shared/chunk-NQPXYJUQ.js";import{a as S}from"/build/_shared/chunk-A7SUEVP2.js";import"/build/_shared/chunk-PXEUFDPR.js";import"/build/_shared/chunk-LTBXYQR6.js";import"/build/_shared/chunk-243AYOFM.js";import"/build/_shared/chunk-HAINM4MF.js";import{Xc as Z,a as m,c as J,wb as b}from"/build/_shared/chunk-QH5UXTNE.js";import"/build/_shared/chunk-GO4RMXDG.js";import{u as U}from"/build/_shared/chunk-GZO74C6C.js";import"/build/_shared/chunk-5C6XY6QG.js";import"/build/_shared/chunk-P4GU2T66.js";import{a as Q}from"/build/_shared/chunk-WKVXRFKR.js";import"/build/_shared/chunk-6UMQ6VR5.js";import"/build/_shared/chunk-DRCRQ7AX.js";import"/build/_shared/chunk-NSB5NZWW.js";import"/build/_shared/chunk-FQ2RG5VJ.js";import"/build/_shared/chunk-C4K24J7E.js";import"/build/_shared/chunk-YG2XDHGZ.js";import{a as p}from"/build/_shared/chunk-KOHXVCYB.js";import"/build/_shared/chunk-VGJ5EBYX.js";import"/build/_shared/chunk-MSGER76V.js";import"/build/_shared/chunk-Z3FUFQEO.js";import{d as w,e as x,h}from"/build/_shared/chunk-O7CS4SBR.js";import"/build/_shared/chunk-NSQYLWAQ.js";import{b as y,c as v}from"/build/_shared/chunk-4YJISJ47.js";import{b as q}from"/build/_shared/chunk-VOM23DNI.js";import"/build/_shared/chunk-5YEMDBLX.js";import"/build/_shared/chunk-X4RYED65.js";import"/build/_shared/chunk-2SDAKG4K.js";import{a as Y,b as i}from"/build/_shared/chunk-TANAHWHW.js";import{e as s}from"/build/_shared/chunk-ADMCF34Z.js";var r=s(Y());var P=s(U()),A=s(q()),C=s(Q());J();Z();var e=s(i()),j=()=>{let{t:o}=v("common"),M=w(),{id:R}=x(),[a,H]=(0,r.useState)({password:"",repeat:""}),[T,B]=(0,r.useState)(!1),[l,O]=(0,r.useState)({}),[u,V]=(0,r.useState)(!1),[c,f]=(0,r.useState)(!1),W=()=>{let t={};F(a.password)||(t.password=o("auth.common.xCharsError",{amount:8})),(a.password!==a.repeat||a.repeat==="")&&(t.repeat=o("auth.common.noMatchError")),(0,P.default)(a.password)>50&&(t.password=o("auth.common.passwordTooLong",{amount:50}));let n=(0,C.default)((0,A.default)(t));O(t),B(n)};(0,r.useEffect)(()=>{W()},[a]);let X=async t=>{if(!c){f(!0);try{let{password:n}=t;await b(R,n),m.success(o("auth.recovery.updated")),M(p.signin)}catch(n){m.error(n.toString())}finally{f(!1)}}},g=({target:t})=>{let n=t.type==="checkbox"?t.checked:t.value;H(K=>({...K,[t.name]:n}))},z=t=>{t.preventDefault(),t.stopPropagation(),V(!0),T&&X(a)};return(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"flex min-h-min-footer flex-col bg-gray-50 px-4 py-6 dark:bg-slate-900 sm:px-6 lg:px-8",children:[(0,e.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,e.jsx)("h2",{className:"text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-gray-50",children:o("auth.recovery.title")})}),(0,e.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]",children:[(0,e.jsx)("div",{className:"bg-white px-6 py-12 shadow dark:bg-slate-800/20 dark:ring-1 dark:ring-slate-800 sm:rounded-lg sm:px-12",children:(0,e.jsxs)("form",{className:"space-y-6",onSubmit:z,children:[(0,e.jsx)(d,{name:"password",type:"password",label:o("auth.recovery.newPassword"),hint:o("auth.common.hint",{amount:8}),value:a.password,onChange:g,error:u&&l.password}),(0,e.jsx)(d,{name:"repeat",type:"password",label:o("auth.common.repeat"),value:a.repeat,onChange:g,error:u&&l.repeat}),(0,e.jsx)(S,{className:"w-full justify-center",type:"submit",loading:c,primary:!0,giant:!0,children:o("auth.recovery.save")})]})}),(0,e.jsx)("p",{className:"mb-4 mt-10 text-center text-sm text-gray-500 dark:text-gray-200",children:(0,e.jsx)(y,{t:o,i18nKey:"auth.signup.alreadyAMember",components:{url:(0,e.jsx)(h,{to:p.signin,className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-500","aria-label":o("footer.tos")})}})})]})]})})},D=(0,r.memo)(k(j,N.notAuthenticated));var _=D;var tt=s(G());var L=s(i());function I(){return(0,L.jsx)(_,{})}export{I as default};
