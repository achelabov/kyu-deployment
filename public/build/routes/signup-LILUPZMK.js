import{a as V,b as W}from"/build/_shared/chunk-DQYLG6I7.js";import"/build/_shared/chunk-SWKV3IKP.js";import{d as P}from"/build/_shared/chunk-FINNWZUQ.js";import"/build/_shared/chunk-2ASNDYGS.js";import{a as pe}from"/build/_shared/chunk-VZQVWFLO.js";import{a as N}from"/build/_shared/chunk-YDSERAUK.js";import{a as M,b as B}from"/build/_shared/chunk-NK5IF5RF.js";import{a as b}from"/build/_shared/chunk-NQPXYJUQ.js";import{a as H}from"/build/_shared/chunk-A7SUEVP2.js";import{a as O}from"/build/_shared/chunk-PXEUFDPR.js";import"/build/_shared/chunk-LTBXYQR6.js";import"/build/_shared/chunk-243AYOFM.js";import"/build/_shared/chunk-HAINM4MF.js";import{r as ue,u as fe}from"/build/_shared/chunk-GZO74C6C.js";import"/build/_shared/chunk-P4GU2T66.js";import{a as ge,j as D,m as he,p as w,q as xe}from"/build/_shared/chunk-WKVXRFKR.js";import{b as F,e as ce}from"/build/_shared/chunk-6UMQ6VR5.js";import"/build/_shared/chunk-DRCRQ7AX.js";import"/build/_shared/chunk-FQ2RG5VJ.js";import"/build/_shared/chunk-C4K24J7E.js";import"/build/_shared/chunk-YG2XDHGZ.js";import{a as l}from"/build/_shared/chunk-KOHXVCYB.js";import"/build/_shared/chunk-VGJ5EBYX.js";import"/build/_shared/chunk-MSGER76V.js";import"/build/_shared/chunk-Z3FUFQEO.js";import{d as A,h as f,m as T}from"/build/_shared/chunk-O7CS4SBR.js";import{Cb as le,R,wb as _}from"/build/_shared/chunk-NSQYLWAQ.js";import{b as h,c as C}from"/build/_shared/chunk-4YJISJ47.js";import{b as de}from"/build/_shared/chunk-VOM23DNI.js";import"/build/_shared/chunk-5YEMDBLX.js";import"/build/_shared/chunk-X4RYED65.js";import"/build/_shared/chunk-2SDAKG4K.js";import{a as me,b as x}from"/build/_shared/chunk-TANAHWHW.js";import{e as r}from"/build/_shared/chunk-ADMCF34Z.js";ce();xe();var i=r(me());var K=r(fe()),U=r(de()),X=r(ue()),j=r(ge());he();le();var e=r(x()),ve=({signup:n,authSSO:m,ssrTheme:p,authenticated:c,loading:v})=>{let{t}=C("common"),[a,y]=(0,i.useState)({email:"",password:"",repeat:"",tos:!1,dontRemember:!1,checkIfLeaked:!0}),[$,ee]=(0,i.useState)(!1),[u,te]=(0,i.useState)({}),[d,oe]=(0,i.useState)(!1),[I,g]=(0,i.useState)(!1),L=A(),ae=D(),E=v?!!ae:c,re=()=>{let o={};M(a.email)||(o.email=t("auth.common.badEmailError")),B(a.password)||(o.password=t("auth.common.xCharsError",{amount:8})),(a.password!==a.repeat||a.repeat==="")&&(o.repeat=t("auth.common.noMatchError")),(0,K.default)(a.password)>50&&(o.password=t("auth.common.passwordTooLong",{amount:50})),a.tos||(o.tos=t("auth.common.tosError"));let s=(0,j.default)((0,U.default)(o));te(o),ee(s)};(0,i.useEffect)(()=>{re()},[a]),(0,i.useEffect)(()=>{E&&!d&&L(l.dashboard)},[E,d]);let k=o=>{o?(P("SIGNUP",{from:"Signup page"}),L(l.confirm_email)):g(!1)},ne=o=>{I||(g(!0),n((0,X.default)(o,"tos"),t,k))},S=o=>{let{target:s}=o;y(se=>({...se,[s.name]:s.value}))},ie=o=>{o.preventDefault(),o.stopPropagation(),oe(!0),$&&ne(a)};return(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:"flex min-h-min-footer flex-col bg-gray-50 px-4 py-6 dark:bg-slate-900 sm:px-6 lg:px-8",children:(0,e.jsxs)("div",{className:"min-h-full flex flex-1 flex-col justify-center py-6 sm:px-6 lg:px-8",children:[(0,e.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,e.jsx)("h2",{className:"text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-gray-50",children:t("auth.signup.trial",{amount:_})}),(0,e.jsx)("p",{className:"text-center text-base text-gray-900 dark:text-gray-50",children:t("auth.signup.noCC")})]}),(0,e.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-[480px]",children:[(0,e.jsxs)("div",{className:"bg-white px-6 py-12 shadow dark:bg-slate-800/20 dark:ring-1 dark:ring-slate-800 sm:rounded-lg sm:px-12",children:[(0,e.jsxs)("form",{className:"space-y-6",onSubmit:ie,children:[(0,e.jsx)(b,{name:"email",type:"email",label:t("auth.common.email"),value:a.email,onChange:S,error:d?u.email:""}),(0,e.jsx)(b,{name:"password",type:"password",label:t("auth.common.password"),hint:t("auth.common.hint",{amount:8}),value:a.password,onChange:S,error:d?u.password:""}),(0,e.jsx)(b,{name:"repeat",type:"password",label:t("auth.common.repeat"),value:a.repeat,onChange:S,error:d?u.repeat:""}),(0,e.jsx)(N,{checked:a.tos,onChange:o=>y(s=>({...s,tos:o})),name:"tos",label:(0,e.jsx)("span",{children:(0,e.jsx)(h,{t,i18nKey:"auth.signup.tos",components:{tos:(0,e.jsx)(f,{to:l.terms,className:"font-medium text-gray-900 underline decoration-dashed hover:decoration-solid dark:text-gray-300","aria-label":t("footer.tos")}),pp:(0,e.jsx)(f,{to:l.privacy,className:"font-medium text-gray-900 underline decoration-dashed hover:decoration-solid dark:text-gray-300","aria-label":t("footer.pp")})}})}),hintClassName:"!text-red-600 dark:!text-red-500",hint:d?u.tos:""}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(N,{checked:a.checkIfLeaked,onChange:o=>y(s=>({...s,checkIfLeaked:o})),name:"checkIfLeaked",label:t("auth.common.checkLeakedPassword")}),(0,e.jsx)(O,{className:"ml-2",text:(0,e.jsx)(h,{t,i18nKey:"auth.common.checkLeakedPasswordDesc",components:{db:(0,e.jsx)("a",{href:R,className:"font-medium text-indigo-400 hover:text-indigo-500 hover:underline dark:text-indigo-400 dark:hover:text-indigo-500",target:"_blank",rel:"noreferrer noopener"})},values:{database:"haveibeenpwned.com"}})})]}),(0,e.jsx)(H,{className:"w-full justify-center",type:"submit",loading:I,primary:!0,giant:!0,children:t("auth.signup.button")})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"relative mt-10",children:[(0,e.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,e.jsx)("div",{className:"w-full border-t border-gray-200 dark:border-gray-600"})}),(0,e.jsx)("div",{className:"relative flex justify-center text-sm font-medium leading-6",children:(0,e.jsx)("span",{className:"bg-white px-6 text-gray-900 dark:bg-slate-800/20 dark:text-gray-50",children:t("auth.common.orContinueWith")})})]}),(0,e.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,e.jsx)(V,{setIsLoading:g,authSSO:m,callback:k,dontRemember:!1}),(0,e.jsx)(W,{setIsLoading:g,authSSO:m,callback:k,dontRemember:!1,ssrTheme:p})]})]})]}),(0,e.jsx)("p",{className:"mt-10 text-center text-sm text-gray-500 dark:text-gray-200",children:(0,e.jsx)(h,{t,i18nKey:"auth.signup.alreadyAMember",components:{url:(0,e.jsx)(f,{to:l.signin,className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-500","aria-label":t("titles.signin")})}})})]})]})})})},Y=ve;var ye=n=>({authenticated:n.auth.authenticated,loading:n.auth.loading}),ke=n=>({signup:(m,p,c)=>{n(w.signupAsync(m,p,c))},authSSO:(m,p,c,v)=>{n(w.authSSO(m,p,c,v))}}),z=F(ye,ke)(Y);var J=z;var q=r(pe());var Z=r(x());function Q(){let{theme:n}=T();return(0,Z.jsx)(J,{ssrTheme:n})}export{Q as default};
