import{a as b}from"/build/_shared/chunk-4GVLMWJ7.js";import{d as u,o as h}from"/build/_shared/chunk-243AYOFM.js";import"/build/_shared/chunk-HAINM4MF.js";import{Gc as f,Xc as F}from"/build/_shared/chunk-QH5UXTNE.js";import{ka as D}from"/build/_shared/chunk-GO4RMXDG.js";import"/build/_shared/chunk-GZO74C6C.js";import"/build/_shared/chunk-5C6XY6QG.js";import{g as T}from"/build/_shared/chunk-P4GU2T66.js";import"/build/_shared/chunk-WKVXRFKR.js";import"/build/_shared/chunk-6UMQ6VR5.js";import"/build/_shared/chunk-DRCRQ7AX.js";import"/build/_shared/chunk-NSB5NZWW.js";import"/build/_shared/chunk-FQ2RG5VJ.js";import"/build/_shared/chunk-C4K24J7E.js";import"/build/_shared/chunk-YG2XDHGZ.js";import{a as i}from"/build/_shared/chunk-KOHXVCYB.js";import"/build/_shared/chunk-VGJ5EBYX.js";import"/build/_shared/chunk-MSGER76V.js";import"/build/_shared/chunk-Z3FUFQEO.js";import{h as g}from"/build/_shared/chunk-O7CS4SBR.js";import{Cb as G,yb as d}from"/build/_shared/chunk-NSQYLWAQ.js";import{c as x}from"/build/_shared/chunk-4YJISJ47.js";import"/build/_shared/chunk-VOM23DNI.js";import"/build/_shared/chunk-5YEMDBLX.js";import"/build/_shared/chunk-X4RYED65.js";import"/build/_shared/chunk-2SDAKG4K.js";import{a as C,b as o}from"/build/_shared/chunk-TANAHWHW.js";import{e as t}from"/build/_shared/chunk-ADMCF34Z.js";var a=t(C());var y=t(T()),v=t(D());F();G();var e=t(o()),P=()=>{let{t:r}=x("common"),[S,p]=(0,a.useState)(!0),[E,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let R=(0,v.default)(window.location.href,`${i.socialised}#`,`${i.socialised}?`),{searchParams:n}=new URL(R),c=n.get("state"),I=n.get("access_token"),L=n.get("code"),l=(0,y.default)(c,":")[0],O=async()=>{if(!c||!l){m(!0);return}let s;if(l===d.GOOGLE&&(s=I),l===d.GITHUB&&(s=L),!s){m(!0);return}try{await f(s,c)}catch(_){m(!0),console.error(`[ERROR] Error while processing Google code: ${_}`)}finally{p(!1)}};p(!0),O()},[]),S?(0,e.jsx)("div",{className:"min-h-page bg-gray-50 dark:bg-slate-900",children:(0,e.jsx)(b,{})}):E?(0,e.jsx)("div",{className:"min-h-page bg-gray-50 px-4 py-16 dark:bg-slate-900 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:(0,e.jsx)("div",{className:"mx-auto max-w-max",children:(0,e.jsxs)("main",{className:"sm:flex",children:[(0,e.jsx)(h,{className:"h-12 w-12 text-red-400","aria-hidden":"true"}),(0,e.jsxs)("div",{className:"sm:ml-6",children:[(0,e.jsxs)("div",{className:"max-w-prose sm:border-l sm:border-gray-200 sm:pl-6",children:[(0,e.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-50 sm:text-5xl",children:r("auth.socialisation.failed")}),(0,e.jsx)("p",{className:"mt-1 max-w-prose whitespace-pre-line text-base text-gray-700 dark:text-gray-300",children:r("auth.socialisation.failedDesc")})]}),(0,e.jsx)("div",{className:"mt-8 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:(0,e.jsx)(g,{to:i.contact,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-100 px-4 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700 dark:focus:ring-gray-50",children:r("notFoundPage.support")})})]})]})})}):(0,e.jsx)("div",{className:"min-h-page bg-gray-50 px-4 py-16 dark:bg-slate-900 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:(0,e.jsx)("div",{className:"mx-auto max-w-max",children:(0,e.jsxs)("main",{className:"sm:flex",children:[(0,e.jsx)(u,{className:"h-12 w-12 text-green-500 dark:text-green-400","aria-hidden":"true"}),(0,e.jsx)("div",{className:"sm:ml-6",children:(0,e.jsxs)("div",{className:"max-w-prose sm:border-l sm:border-gray-200 sm:pl-6",children:[(0,e.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-50 sm:text-5xl",children:r("auth.socialisation.authSuccess")}),(0,e.jsx)("p",{className:"mt-1 max-w-prose whitespace-pre-line text-base text-gray-700 dark:text-gray-300",children:r("auth.socialisation.successDesc")})]})})]})})})},k=(0,a.memo)(P);var w=t(o());function N(){return(0,w.jsx)(k,{})}export{N as default};
