import{a as Q}from"/build/_shared/chunk-JQ7VV4MG.js";import{a as K}from"/build/_shared/chunk-ZJOJMP5O.js";import{b as y}from"/build/_shared/chunk-PXEUFDPR.js";import{b as k}from"/build/_shared/chunk-HAINM4MF.js";import{Ba as J,ma as G,qa as D,ua as p,va as h}from"/build/_shared/chunk-GO4RMXDG.js";import{a as V}from"/build/_shared/chunk-WKVXRFKR.js";import{ga as E,ha as X,s as T,w as B}from"/build/_shared/chunk-DRCRQ7AX.js";import{n as L}from"/build/_shared/chunk-NSB5NZWW.js";import{c as P}from"/build/_shared/chunk-4YJISJ47.js";import{a as A,b as _}from"/build/_shared/chunk-TANAHWHW.js";import{e as l}from"/build/_shared/chunk-ADMCF34Z.js";var $=l(A());var H=l(Q()),j=l(G()),R=l(V()),S=l(K()),z=l(L());J();X();var t=l(_()),W=({change:e,type:r,goodChangeDirection:a,valueMapper:n})=>{if(!(0,S.default)(e))return null;if(e===0){let i=n?n(e,"badge"):`0${r==="percent"?"%":""}`;return(0,t.jsx)(y,{colour:"slate",label:i})}if(e<0&&a==="up"){let i=n?n(e,"badge"):`${e}${r==="percent"?"%":""}`;return(0,t.jsx)(y,{colour:"green",label:i})}if(e<0&&a==="down"){let i=n?n(e,"badge"):`${e}${r==="percent"?"%":""}`;return(0,t.jsx)(y,{colour:"red",label:i})}if(e>0&&a==="up"){let i=n?n(e,"badge"):`${e}${r==="percent"?"%":""}`;return(0,t.jsx)(y,{colour:"red",label:i})}if(e>0&&a==="down"){let i=n?n(e,"badge"):`${e}${r==="percent"?"%":""}`;return(0,t.jsx)(y,{colour:"green",label:i})}},b=({label:e,value:r,change:a,type:n,goodChangeDirection:i,valueMapper:o,classes:c})=>(0,t.jsxs)("div",{className:k("flex flex-col",c==null?void 0:c.container),children:[(0,t.jsx)("div",{className:k("whitespace-nowrap text-4xl font-bold text-slate-900 dark:text-gray-50",c==null?void 0:c.value),children:o?o(r,"main"):r}),(0,t.jsxs)("div",{className:k("flex items-center whitespace-nowrap text-sm font-bold",{"space-x-2":(0,S.default)(a)},c==null?void 0:c.label),children:[(0,t.jsx)("span",{className:"text-slate-900 dark:text-gray-50",children:e}),(0,t.jsx)(W,{change:a,type:n,goodChangeDirection:i,valueMapper:o})]})]}),ce=({values:e,valueMapper:r,selectLabel:a,classes:n})=>{let[i,o]=(0,$.useState)(0),[c,g]=(0,$.useState)(!1),x=m=>{o(m),g(!1)};return(0,t.jsxs)("div",{className:k("flex flex-col",n==null?void 0:n.container),children:[(0,t.jsx)("div",{className:k("whitespace-nowrap text-4xl font-bold text-slate-900 dark:text-gray-50",n==null?void 0:n.value),children:r?r(e[i],i):e[i].value}),(0,t.jsx)("div",{className:"relative flex items-center whitespace-nowrap text-sm font-bold",children:(0,t.jsxs)(H.default,{onOutsideClick:()=>g(!1),children:[(0,t.jsxs)("span",{className:k("cursor-pointer text-slate-900 dark:text-gray-50",n==null?void 0:n.label),onClick:()=>g(!c),children:[e[i].label," ",c?(0,t.jsx)(B,{className:"inline h-4 w-4"}):(0,t.jsx)(T,{className:"inline h-4 w-4"})]}),c&&(0,t.jsxs)("div",{className:"top-15 absolute z-10 mt-2 max-h-[200px] min-w-[250px] overflow-auto rounded-md border border-gray-200 bg-white text-gray-900 shadow-lg dark:border-slate-700/50 dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"flex w-full flex-col p-2",children:[(0,t.jsx)("p",{className:"px-1 text-sm font-semibold text-gray-900 dark:text-gray-50",children:a}),(0,z.default)(e,({label:m},w)=>(0,t.jsx)("div",{onClick:()=>x(w),className:"flex w-full cursor-pointer flex-row items-center justify-between px-1 py-2 text-sm text-gray-700 hover:bg-gray-200 dark:bg-slate-900 dark:text-gray-200 dark:hover:bg-slate-800",children:(0,t.jsx)("p",{children:m})},m))]}),(0,t.jsx)(E,{className:"absolute right-2 top-2 h-5 w-5 cursor-pointer text-gray-900 dark:text-gray-50",onClick:()=>g(!c)})]})]})})]})},Y=(0,$.memo)(({overall:e,overallCompare:r,activePeriodCompare:a})=>{var x,m,w,C,M,I,N,O,u,f,q,F,U;let{t:n}=P("common"),i=e.uniqueChange,o=e.change,c=e.bounceRateChange,g=e.sdurChange;return!(0,R.default)(r)&&a!=="previous"&&(i=((x=e.current)==null?void 0:x.unique)-((m=r==null?void 0:r.current)==null?void 0:m.unique),o=((w=e.current)==null?void 0:w.all)-((C=r==null?void 0:r.current)==null?void 0:C.all),c=(((M=e.current)==null?void 0:M.bounceRate)-((I=r.current)==null?void 0:I.bounceRate))*-1,g=((N=e.current)==null?void 0:N.sdur)-((O=r==null?void 0:r.current)==null?void 0:O.sdur)),e.customEVFilterApplied?(0,t.jsx)(b,{label:n("project.events"),value:(u=e.current)==null?void 0:u.all,change:o,type:"percent",goodChangeDirection:"down",valueMapper:(d,s)=>`${s==="badge"&&d>0?"+":""}${D(d,1)}`}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{label:n("dashboard.unique"),value:(f=e.current)==null?void 0:f.unique,change:i,type:"percent",goodChangeDirection:"down",valueMapper:(d,s)=>`${s==="badge"&&d>0?"+":""}${D(d,1)}`}),(0,t.jsx)(b,{label:n("dashboard.pageviews"),value:(q=e.current)==null?void 0:q.all,change:o,type:"percent",goodChangeDirection:"down",valueMapper:(d,s)=>`${s==="badge"&&d>0?"+":""}${D(d,1)}`}),(0,t.jsx)(b,{label:n("dashboard.bounceRate"),value:(0,j.default)((F=e.current)==null?void 0:F.bounceRate,1),change:(0,j.default)(c,1),type:"percent",goodChangeDirection:"up",valueMapper:(d,s)=>`${s==="badge"&&d>0?"+":""}${d}%`}),(0,t.jsx)(b,{label:n("dashboard.sessionDuration"),value:(U=e.current)==null?void 0:U.sdur,change:g,goodChangeDirection:"down",valueMapper:(d,s)=>`${s==="badge"&&d>0?"+":""}${h(p(d))}`})]})}),Z=(0,$.memo)(({overall:e})=>{let{t:r}=P();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{label:r("monitor.metrics.avg"),value:e.current.avg,change:e.avgChange,goodChangeDirection:"up",valueMapper:(a,n)=>`${n==="badge"&&a>0?"+":""}${h(p(a),!0)}`}),(0,t.jsx)(b,{label:r("monitor.metrics.min"),value:e.current.min,change:e.minChange,goodChangeDirection:"up",valueMapper:(a,n)=>`${n==="badge"&&a>0?"+":""}${h(p(a),!0)}`}),(0,t.jsx)(b,{label:r("monitor.metrics.max"),value:e.current.max,change:e.maxChange,goodChangeDirection:"up",valueMapper:(a,n)=>`${n==="badge"&&a>0?"+":""}${h(p(a),!0)}`})]})}),v=(0,$.memo)(({overall:e,overallCompare:r,activePeriodCompare:a})=>{var g,x,m,w,C,M,I,N,O;let{t:n}=P("common"),i=e.frontendChange,o=e.backendChange,c=e.networkChange;return!(0,R.default)(r)&&a!=="previous"&&(i=((g=e.current)==null?void 0:g.frontend)-((x=r==null?void 0:r.current)==null?void 0:x.frontend),o=((m=e.current)==null?void 0:m.backend)-((w=r==null?void 0:r.current)==null?void 0:w.backend),c=((C=e.current)==null?void 0:C.network)-((M=r==null?void 0:r.current)==null?void 0:M.network)),(0,t.jsxs)("div",{className:"mb-5 flex flex-wrap justify-center gap-5 lg:justify-start",children:[(0,t.jsx)(b,{label:n("dashboard.frontend"),value:(I=e.current)==null?void 0:I.frontend,change:i,goodChangeDirection:"up",valueMapper:(u,f)=>`${f==="badge"&&u>0?"+":""}${h(p(u),!0)}`}),(0,t.jsx)(b,{label:n("dashboard.backend"),value:(N=e.current)==null?void 0:N.backend,change:o,goodChangeDirection:"up",valueMapper:(u,f)=>`${f==="badge"&&u>0?"+":""}${h(p(u),!0)}`}),(0,t.jsx)(b,{label:n("dashboard.network"),value:(O=e.current)==null?void 0:O.network,change:c,goodChangeDirection:"up",valueMapper:(u,f)=>`${f==="badge"&&u>0?"+":""}${h(p(u),!0)}`})]})});Y.displayName="MetricCards";Z.displayName="MetricCardsUptime";v.displayName="PerformanceMetricCards";export{b as a,ce as b,Y as c,Z as d,v as e};
