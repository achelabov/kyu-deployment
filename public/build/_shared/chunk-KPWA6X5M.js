import{a as L}from"/build/_shared/chunk-4GVLMWJ7.js";import{d as k,o as w}from"/build/_shared/chunk-243AYOFM.js";import{Tc as y,Uc as N,Xc as C}from"/build/_shared/chunk-QH5UXTNE.js";import{a as v,e as T}from"/build/_shared/chunk-6UMQ6VR5.js";import{a}from"/build/_shared/chunk-KOHXVCYB.js";import{a as I}from"/build/_shared/chunk-Z3FUFQEO.js";import{e as x,h as o}from"/build/_shared/chunk-O7CS4SBR.js";import{c as b}from"/build/_shared/chunk-4YJISJ47.js";import{a as E,b as h}from"/build/_shared/chunk-TANAHWHW.js";import{e as c}from"/build/_shared/chunk-ADMCF34Z.js";var s=c(E());var g=c(I());T();C();var e=c(h()),F=({type:l})=>{let{t:r}=b("common"),{token:d}=x(),{authenticated:u}=v(t=>t.auth),[S,i]=(0,s.useState)(!0),[p,f]=(0,s.useState)("");return(0,s.useEffect)(()=>{if(i(!0),!(0,g.default)(d)){f(r("apiNotifications.invalidToken")),i(!1);return}l==="user-reports"&&y(d).then(()=>{i(!1)}).catch(t=>{var n,m;f((0,g.default)(t)?t:((m=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:m.message)||t.message)}).finally(()=>{i(!1)}),l==="3rdparty"&&N(d).then(()=>{i(!1)}).catch(t=>{var n,m;f((0,g.default)(t)?t:((m=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:m.message)||t.message)}).finally(()=>{i(!1)})},[d,l]),S?(0,e.jsx)("div",{className:"min-h-page bg-gray-50 dark:bg-slate-900",children:(0,e.jsx)(L,{})}):p?(0,e.jsx)("div",{className:"min-h-page bg-gray-50 px-4 py-16 dark:bg-slate-900 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:(0,e.jsx)("div",{className:"mx-auto max-w-max",children:(0,e.jsxs)("main",{className:"sm:flex",children:[(0,e.jsx)(w,{className:"h-12 w-12 text-red-400","aria-hidden":"true"}),(0,e.jsxs)("div",{className:"sm:ml-6",children:[(0,e.jsx)("div",{className:"max-w-prose sm:border-l sm:border-gray-200 sm:pl-6",children:(0,e.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-50 sm:text-5xl",children:p})}),(0,e.jsxs)("div",{className:"mt-8 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:[u?(0,e.jsx)(o,{to:a.dashboard,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r("common.dashboard")}):(0,e.jsx)(o,{to:a.signin,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r("auth.signin.button")}),(0,e.jsx)(o,{to:a.contact,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-100 px-4 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:bg-slate-800 dark:text-gray-50 dark:hover:bg-slate-700 dark:focus:ring-gray-50",children:r("notFoundPage.support")})]})]})]})})}):(0,e.jsx)("div",{className:"min-h-page bg-gray-50 px-4 py-16 dark:bg-slate-900 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:(0,e.jsx)("div",{className:"mx-auto max-w-max",children:(0,e.jsxs)("main",{className:"sm:flex",children:[(0,e.jsx)(k,{className:"h-12 w-12 text-green-500 dark:text-green-400","aria-hidden":"true"}),(0,e.jsxs)("div",{className:"sm:ml-6",children:[(0,e.jsx)("div",{className:"max-w-prose sm:border-l sm:border-gray-200 sm:pl-6",children:(0,e.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-50 sm:text-5xl",children:r("unsubscribe.success")})}),(0,e.jsx)("div",{className:"mt-8 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:u?(0,e.jsx)(o,{to:a.dashboard,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r("common.dashboard")}):(0,e.jsx)(o,{to:a.signin,className:"inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:r("auth.signin.button")})})]})]})})})},A=(0,s.memo)(F);export{A as a};
